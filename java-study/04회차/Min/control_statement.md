# 제어문과 제어 키워드

## 제어문

### 제어문의 개념

`프로그램의 처리 순서를 바꾸는 것`이라고 생각하면 됩니다.
자바에서는 2개의 선택 제어문(if, switch)과 3개의 반복 제어문(for, while, do-while)으로 총 5개의 제어문과 2개의 제어 키워드(break, continue)가 있습니다.

5개의 제어문의 공통적인 특징으로 중괄호({})를 감싸는것이 있습니다.
다만, 중괄호 안에 실행문이 1개일 때는 생략해도 컴파일에서 자동으로 삽입해줍니다.

> 컴파일러가 자동으로 삽입해줄 때는 하나의 실행 구문만 감싸줍니다.

### if 선택 제어문

if 문은 조건식에 따라 실행문의 실행 여부를 결정하는 선택 제어문입니다.

1. if 단일 구문
`조건식 = true`일 때 중괄호 안에 실행하고 반대로 `조건식 = false`일 때 생략합니다.

2. if-else 구문
`if 구문의 조건식 = ture`일 때 if 구문의 중괄호가 실행되고, `그렇지 않을(if 구문의 조건식 = false) 때 else 구문의 중괄호가 실행됩니다.`

> 조건식의 결괏값에 따라 둘 중 하나를 선택하는 제어문이므로 삼항 연산자와 상호 변환할 수 있습니다.

3. if-else if-else 구문
N개의 조건식과 N + 1개의 중괄호를 포함하고 있는 형태입니다.
다만, 주의 해야할 점은 여러개의 조건이 있는 만큼 조건의 순서에 따라 다른값이 나오지는 않는지 검사하고 꼼꼼하게 조건식을 생성해야 원하는 결과를 얻을 수 있습니다.

- 범수의 범위 표현
변숫값의 범위를 지정할 때 수학식에서는 `70 <= a <= 80`과 같은 범위를 표현하지만, 자바에서는 반드시 각각을 분리하고 논리 연산자로 연결해 줘야 합니다. `a >= 70 && a < 80`

### switch 선택 제어문

스위치 문은 case 값에 맞는 곳으로 이동한 뒤 코드를 실행하는 선택 제어문 입니다.

if 문과의 차이점은 if 문의 경우 특정 구문의 중괄호가 실행되면 if 문을 빠져나오지만, switch 문은 특정 case 값에 맞을 경우 그 위치에서 부터 순차적으로 코드를 읽어갑니다.

```Java
int a = 5;

// if 문
if (a > 6) {
    System.out.println('6보다 값이 크다.');
} else if (a > 4) {
    System.out.println('4보다 값이 크다.');  // 실행되고 if 문을 빠져나온다.
} else if (a > 2) {
    System.out.println('2보다 값이 크다.');
} else {
    System.out.println('값이 작습니다.')l
}


// switch 문
switch(a) {
    case 6:
        System.out.println('값이 6입니다.');
    case 5:
        System.out.println('값이 5입니다.');  // a == 5이기 때문에 이곳으로 이동합니다.
    case 4:
    case 3:
    case 2:
        System.out.println('값이 2보다 크고 5보다 작습니다.');  // case 5 부터 break문이 있는 case 2 까지 모든 코드를 실행 합니다.
        break;
    default:
        System.out.println('값이 작습니다.');  // break 문으로 switch 문을 탈출했기 때문에 default 값은 출력되지 않습니다.
}

```

> switch 문은 if 문과 다르게 정수, 문자, 문자열만을 사용할 수 있습니다.

> switch 문과 if문의 성능 차이는 거의 없습니다.
다만, 각 결과에 따른 속도차이는 날 수 있습니다.
예를 들어 if 문의 경우 위에서 부터 조건을 하나하나 확인하는 반면, switch 문은 case가 있는곳으로 바로 점프를 하기 때문에 모든 출력 속도가 동일하다는 장점이 있습니다.
`하지만 조건식의 검사 속도는 워낙 빠르기 때문에 한 번에 수백만 개의 데이터를 처리하는 상황이 아니라면 별반 차이가 없습니다.`

### for 반복 제어문

실행 구문을 반복적으로 수행하는 반복 제어문으로 일반적으로 반복 횟수가 정해져 있을 때 사용합니다.

```Java
// for 문의 구성
for (초기식; 조건식; 증감식) {
    실행 구문;
}
```

- `초기식`: for 문이 시작될 때 딱 한번 실행되고 다시는 실행되지 않습니다. 따라서 for 문 안에서만 사용할 변수는 주로 초기식에서 초기화 합니다.

- `조건식`: 실행 구문으로 들어가기 위한 유일한 출입구로, 이 조건식의 결과가 true가 나오는 동안은 계속 반복합니다. 만약 조건식이 false가 나오면 더이상 반복을 수행하지 않고 for 문을 빠져나갑니다. 그렇기 때문에 for 문이 끝나는 곳은 `}`가 아닌 조건식 입니다.

- `증감식`: for 문의 실행 구문이 모두 수행된 후 닫힌 중괄호(})를 만나면 다음 번 반복을 위해 다시 이동하는 위치로 매회 반복이 수행할 때마다 호출됩니다.

> 초기식에 포함된 변수의 선언 위치는 for 문의 내, 외부에 선언할 수 있습니다.
또한, 초기식과 증감식은 쉼표(,)로 구분해 여러 개를 동시에 표기할 수 있습니다.
```Java
// 외부 초기식
int i;
for (i = 0; i < 3; i++) {
    System.out.println("실행");
}
System.out.println(i);  // 3

// 주로 사용되는 내부 초기식
for (int i = 0; i < 3; i++) {
    System.out.println("실행");
}
System.out.println(i);  // 오류

// 여러개 동시 사용
for (int i = 0, j = 0; (i + j) < 10; i++, j++) {
    // ...
}
```

> 컴파일러는 for 문의 `소괄호()` 안에 2개의 세미클론(;)이 있는지만 문법적으로 점검합니다.
때문에 초기식, 조건식, 증감식을 생략하더라도 세미클론만 있으면 문법 오류는 발생하지 않습니다.
그 결과, 몇가지 특이한 for 문 형태가 가능해지며, 예를 들어 조건식을 생략하면 컴파일러는 true를 삽입하기 때문에 무한 반복이 됩니다.
```Java
for (int i = 0; ; i++) {
    if (i > 10) {
        break;
    }
    System.out.print(i + " ");  // 0 1 2 3 4 5 6 7 8 9 10
}
```

- 무한 반복을 하는 코도 다음에 어떤 실행 코드를 작성하면 이클립스는 바로 문법 오류를 발생시킵니다.
무한 루프에 갇혀 결코 도달할 수 없는 코드(unreachable code)를 작성했기 때문입니다.
이와 반대로 조건문이 false면 오류가 납니다.

### while 반복 제어문

```Java
// while 문의 구성
초기식;
while (조건식) {
    실행 구문;
    증감식;
}
```

while 문을 사용할 때 주의할 점은 초기식이 while 실행 구문 안에 있거나 증감식을 생략하면 무한 루프에 빠질 수 있습니다.

일반적으로 while 문은 반복 횟수를 정하기 보다는 특정 조건까지 반복하는 목적으로 주로 사용합니다.
```Java
int num = 0, sun = 0;
while (sum < 100) {
    sum += num;
    num++;
}
System.out.println((num - 1) + "까지의 합 = " + sum);  // 14까지의 합 = 105
```

> 당연하게도 while 문도 for 문 처럼 조건에 맞게 한정된 반복 횟수를 지정 할 수 있으므로 for 문과 상호 변환할 수 있습니다.

- for 문과 마찬가지로 무한 반복 뒤에 실행 코드를 작성하면 도달할 수없는 코드(unreachable code)오류가 발생하며, 조건식에 false를 입력해도 중괄호 안의 실행 코드에 이와 동일한 오류가 발생됩니다.

### do-while 반복 제어문

do-while 문은 while 문과 매우 비슷하지만 조건식의 검사와 반복 실행의 순서에만 차이가 있습니다.

```Java
// do-while 문의 구성
초기식;
do {
    실행 구문;
    증감식;
} while (조건식);
```

while 문은 조건식을 먼저 검사하기 때문에 최소 반복 횟수는 0(처음부터 조건식이 false일 경우)이지만, do-while 문은 일단 실행한 후 조건식을 검사하므로 최소 반복 횟수가 1입니다.

> 최소 반복 횟수가 1이 많다고 절대로 do-while 문이 한 번 더 실행되는 것은 아닙니다.

### 제어문의 중복

지금까지 5개의 제어문을 확인해봤습니다.
각 제어문 내부에는 또 다른 제어문을 포함할 수 있습니다.
예를 들어 if문 내부에 if문, switch 문 내부에 for 문 등등 얼마든지 3중, 4중으로 중복할 수 있습니다.

> 다만, 반복문이 3개 이상이 중복되면 속도가 느려지기 때문에 지양합니다.

## 제어 키워드

### break 제어 키워드

break는 앞의 제어문을 탈출할 때 사용하는 제어 키워드입니다.
일반적으로 반복문에서 특정 조건을 만족할 때 탈출용으로 사용됩니다.

> 다만 여기서 주의해야될 점은 break 문은 스코프(scope), 다시 말해 중괄호({}) 하나에서만 해당됩니다. 따라서 중복 제어문일 경우 잘 확인해줘야 합니다.

만약 다중 제어문을 한 번에 탈출하려면 자바에서는 공식적으로 `break + Label(레이블)`문법이 있습니다.

```Java
out:
for (int i = 0; i < 10; i++) {
    for (int j = 0; j < 10; j++) {
        if (j == 3) {
            break out;
        }
        System.out.println(i + ", " + j);
    }
}
```

output
```
((0, 0), (0, 1), (0, 2))
```

> 레이블명은 개발자가 임의로 지을 수 있으며, 레이블 다음에는 반드시 클론(:)을 표시해야 합니다.

### continue 제어 키워드

break의 경우 탈출한다면, continue는 패스(pass)합니다.
따라서 특정 조건에 만족할 경우 continue를 해주게 되면 그 다음 코드라인은 실행되지 않고 넘어가게 됩니다.

> continue도 break처럼 continue + Label 문법을 사용할 수 있습니다.
따라서 여러 개의 제어문을 건너띌 수 있습니다.

```Java
POS1:
for (int i = 0; i < 5; i++) {
    for (int j = 0; j < 5; j++) {
        if (j == 3) {
            continue POS1;
        }
        System.out.println(i + ", " + j);
    }
}
```

output
```
(0, 0), (0, 1), (0, 2), (1, 0), (1, 1), (1, 2), ..., (4, 0), (4, 1), (4, 2)
```
